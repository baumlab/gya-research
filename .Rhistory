canada<-canada[!canada$changed_10yrs=="",]
canada<-droplevels(canada)
head(canada)
#x<-c("Engineering", "Interdisciplinary Science", "Medicine and Life Science", "Natural Science", "Other", "Physical Science (eg. math, physics, chemistry, computer science)", "Social Science / Humanities")
#canada$field_research<-factor(x)
#levels(canada$field_research)<-list(NonSci=c("Other","Interdisciplinary Science","Social Science / Humanities"), Engineering=c("Engineering"), Medicine=c("Medicine and Life Science"), NatSci=c("Natural Science"), PhysSci=c("Physical Science (eg. math, physics, chemistry, computer science)"))
#head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-as.factor(canada$field_research)
## using table to count cases of each category
sum.change<-data.frame(table(canada$changed_10yrs, canada$field_research))
sum.change
change.mod1<-(glm(Freq ~ Var1*Var2, sum.change, family="poisson"))
change.mod2<-(glm(Freq ~ Var1 +Var2, sum.change, family="poisson"))
visreg(change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="Field of research")
summary(change.mod1)
anova(change.mod1, change.mod2, test="Chi")
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
## using table to count cases of each category
sum.change<-data.frame(table(canada$changed_10yrs, canada$field_research))
sum.change
change.mod1<-(glm(Freq ~ Var1*Var2, sum.change, family="poisson"))
change.mod2<-(glm(Freq ~ Var1 +Var2, sum.change, family="poisson"))
visreg(change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="Field of research")
summary(change.mod1)
anova(change.mod1, change.mod2, test="Chi")
head(research.change)
change<-subset(research.change, select=c("Location","Country",'Country_work', "field_research", "changed_10yrs"))
canada<-change[change$Country_work=="Canada" | (!(change$Country_work=="Canada") &
change$Country_work=="" & change$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$changed_10yrs=="",]
canada<-droplevels(canada)
head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
## using table to count cases of each category
sum.change<-data.frame(table(canada$changed_10yrs, canada$field_research))
sum.change
change.mod1<-(glm(Freq ~ Var1*Var2, sum.change, family="poisson"))
change.mod2<-(glm(Freq ~ Var1 +Var2, sum.change, family="poisson"))
visreg(change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="Field of research")
summary(change.mod1)
anova(change.mod1, change.mod2, test="Chi")
head(research.change)
change<-subset(research.change, select=c("Location","Country",'Country_work', "field_research", "changed_10yrs"))
canada<-change[change$Country_work=="Canada" | (!(change$Country_work=="Canada") &
change$Country_work=="" & change$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$changed_10yrs=="",]
canada<-droplevels(canada)
head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada<-canada[!canada$field_research=="NonSci",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.change<-data.frame(table(canada$changed_10yrs, canada$field_research))
sum.change
change.mod1<-(glm(Freq ~ Var1*Var2, sum.change, family="poisson"))
change.mod2<-(glm(Freq ~ Var1 +Var2, sum.change, family="poisson"))
visreg(change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="Field of research")
summary(change.mod1)
anova(change.mod1, change.mod2, test="Chi")
head(research.change)
change<-subset(research.change, select=c("Location","Country",'Country_work', "field_research", "changed_10yrs"))
canada<-change[change$Country_work=="Canada" | (!(change$Country_work=="Canada") &
change$Country_work=="" & change$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$changed_10yrs=="",]
canada<-droplevels(canada)
head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada$changed_10yrs<-factor(canada$changed_10yrs, levels(canada$changed_10yrs)[c(2,3,1)])
head(canada)
canada<-canada[!canada$field_research=="NonSci",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.change<-data.frame(table(canada$changed_10yrs, canada$field_research))
sum.change
change.mod1<-(glm(Freq ~ Var1*Var2, sum.change, family="poisson"))
change.mod2<-(glm(Freq ~ Var1 +Var2, sum.change, family="poisson"))
visreg(change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="Field of research")
summary(change.mod1)
anova(change.mod1, change.mod2, test="Chi")
head(canada)
reason<-subset(research.change, select=c("Location","Country",'Country_work', "field_research", "Main_reason_change_interest_related", "Main_reason_change_Career_related",
"Main_reason_change_Funding_related", "Main_reason_change_Socially_related", "Main_reason_change_Other"))
canada<-reason[reason$Country_work=="Canada" | (!(reason$Country_work=="Canada") &
reason$Country_work=="" & reason$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!(is.na(canada$Main_reason_change_interest_related)& is.na(canada$Main_reason_change_Career_related) & is.na(canada$Main_reason_change_Funding_related) &
is.na(canada$Main_reason_change_Socially_related) & is.na(canada$Main_reason_change_Other)),]
canada<-droplevels(canada)
require(tidyr)
canada.long<-gather(canada, reason, value, -Location, -field_research, -Country_work, -Country)
canada.long
canada.long<-canada.long[!(is.na(canada.long$value)),]
## using table to count cases of each category
sum.reason<-data.frame(table(canada.long$reason, canada.long$value, canada.long$field_research))
sum.reason
reason.mod1<-(glm(Freq ~ Var1*Var3, sum.reason, family="poisson"))
reason.mod2<-(glm(Freq ~ Var1 +Var3, sum.reason, family="poisson"))
visreg(reason.mod1, "Var3",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
anova(reason.mod1, reason.mod2, test="Chi")
summary(reason.mod1)
head(canada)
reason<-subset(research.change, select=c("Location","Country",'Country_work', "field_research", "Main_reason_change_interest_related", "Main_reason_change_Career_related",
"Main_reason_change_Funding_related", "Main_reason_change_Socially_related", "Main_reason_change_Other"))
canada<-reason[reason$Country_work=="Canada" | (!(reason$Country_work=="Canada") &
reason$Country_work=="" & reason$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!(is.na(canada$Main_reason_change_interest_related)& is.na(canada$Main_reason_change_Career_related) & is.na(canada$Main_reason_change_Funding_related) &
is.na(canada$Main_reason_change_Socially_related) & is.na(canada$Main_reason_change_Other)),]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada.long<-gather(canada, reason, value, -Location, -field_research, -Country_work, -Country)
canada.long
canada.long<-canada.long[!(is.na(canada.long$value)),]
## using table to count cases of each category
sum.reason<-data.frame(table(canada.long$reason, canada.long$value, canada.long$field_research))
sum.reason
reason.mod1<-(glm(Freq ~ Var1*Var3, sum.reason, family="poisson"))
reason.mod2<-(glm(Freq ~ Var1 +Var3, sum.reason, family="poisson"))
visreg(reason.mod1, "Var3",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(reason.mod1)
anova(reason.mod1, reason.mod2, test="Chi")
head(canada)
reason<-subset(research.change, select=c("Location","Country",'Country_work', "field_research", "Main_reason_change_interest_related", "Main_reason_change_Career_related",
"Main_reason_change_Funding_related", "Main_reason_change_Socially_related", "Main_reason_change_Other"))
canada<-reason[reason$Country_work=="Canada" | (!(reason$Country_work=="Canada") &
reason$Country_work=="" & reason$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!(is.na(canada$Main_reason_change_interest_related)& is.na(canada$Main_reason_change_Career_related) & is.na(canada$Main_reason_change_Funding_related) &
is.na(canada$Main_reason_change_Socially_related) & is.na(canada$Main_reason_change_Other)),]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
#canada$changed_10yrs<-factor(canada$changed_10yrs, levels(canada$changed_10yrs)[c(2,3,1)])
canada<-canada[!canada$field_research=="NonSci",]
canada<-droplevels(canada)
require(tidyr)
canada.long<-gather(canada, reason, value, -Location, -field_research, -Country_work, -Country)
canada.long
canada.long<-canada.long[!(is.na(canada.long$value)),]
## using table to count cases of each category
sum.reason<-data.frame(table(canada.long$reason, canada.long$value, canada.long$field_research))
sum.reason
reason.mod1<-(glm(Freq ~ Var1*Var3, sum.reason, family="poisson"))
reason.mod2<-(glm(Freq ~ Var1 +Var3, sum.reason, family="poisson"))
visreg(reason.mod1, "Var3",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(reason.mod1)
anova(reason.mod1, reason.mod2, test="Chi")
head(canada)
view<-subset(part1.view, select=c("Location","Country",'Country_work', "field_research", "view_change_of_type"))
canada<-view[view$Country_work=="Canada" | (!(view$Country_work=="Canada") &
view$Country_work=="" & view$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$view_change_of_type=="",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.view<-data.frame(table(canada$view_change_of_type, canada$field_research))
sum.view
view.mod1<-(glm(Freq ~ Var1*Var2, sum.view, family="poisson"))
view.mod2<-(glm(Freq ~ Var1 +Var2, sum.view, family="poisson"))
visreg(view.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
anova(view.mod1, view.mod2, test="Chi")
summary(view.mod1)
head(canada)
view<-subset(part1.view, select=c("Location","Country",'Country_work', "field_research", "view_change_of_type"))
canada<-view[view$Country_work=="Canada" | (!(view$Country_work=="Canada") &
view$Country_work=="" & view$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$view_change_of_type=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
#canada<-canada[!canada$field_research=="NonSci",]
#canada<-droplevels(canada)
## using table to count cases of each category
sum.view<-data.frame(table(canada$view_change_of_type, canada$field_research))
sum.view
view.mod1<-(glm(Freq ~ Var1*Var2, sum.view, family="poisson"))
view.mod2<-(glm(Freq ~ Var1 +Var2, sum.view, family="poisson"))
visreg(view.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(view.mod1)
anova(view.mod1, view.mod2, test="Chi")
head(canada)
view<-subset(part1.view, select=c("Location","Country",'Country_work', "field_research", "view_change_of_type"))
canada<-view[view$Country_work=="Canada" | (!(view$Country_work=="Canada") &
view$Country_work=="" & view$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$view_change_of_type=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada<-canada[!canada$field_research=="NonSci",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.view<-data.frame(table(canada$view_change_of_type, canada$field_research))
sum.view
view.mod1<-(glm(Freq ~ Var1*Var2, sum.view, family="poisson"))
view.mod2<-(glm(Freq ~ Var1 +Var2, sum.view, family="poisson"))
visreg(view.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(view.mod1)
anova(view.mod1, view.mod2, test="Chi")
head(canada)
view<-subset(part1.view, select=c("Location","Country",'Country_work', "field_research", "view_change_of_type"))
canada<-view[view$Country_work=="Canada" | (!(view$Country_work=="Canada") &
view$Country_work=="" & view$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$view_change_of_type=="",]
canada<-droplevels(canada)
#canada$field_research<-as.character(canada$field_research)
#canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
#canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
#canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
#canada$field_research<-as.factor(canada$field_research)
#canada<-canada[!canada$field_research=="NonSci",]
#canada<-droplevels(canada)
## using table to count cases of each category
sum.view<-data.frame(table(canada$view_change_of_type, canada$field_research))
sum.view
view.mod1<-(glm(Freq ~ Var1*Var2, sum.view, family="poisson"))
view.mod2<-(glm(Freq ~ Var1 +Var2, sum.view, family="poisson"))
visreg(view.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(view.mod1)
anova(view.mod1, view.mod2, test="Chi")
head(canada)
view<-subset(part1.view, select=c("Location","Country",'Country_work', "field_research", "view_change_of_type"))
canada<-view[view$Country_work=="Canada" | (!(view$Country_work=="Canada") &
view$Country_work=="" & view$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$view_change_of_type=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
head(canada)
view<-subset(part1.view, select=c("Location","Country",'Country_work', "field_research", "view_change_of_type"))
canada<-view[view$Country_work=="Canada" | (!(view$Country_work=="Canada") &
view$Country_work=="" & view$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$view_change_of_type=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
head(canada)
view<-subset(part1.view, select=c("Location","Country",'Country_work', "field_research", "view_change_of_type"))
canada<-view[view$Country_work=="Canada" | (!(view$Country_work=="Canada") &
view$Country_work=="" & view$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$view_change_of_type=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
sum.view<-data.frame(table(canada$view_change_of_type, canada$field_research))
sum.view
view.mod1<-(glm(Freq ~ Var1*Var2, sum.view, family="poisson"))
view.mod2<-(glm(Freq ~ Var1 +Var2, sum.view, family="poisson"))
visreg(view.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(view.mod1)
anova(view.mod1, view.mod2, test="Chi")
canada<-canada[!canada$field_research=="NonSci",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.view<-data.frame(table(canada$view_change_of_type, canada$field_research))
sum.view
view.mod1<-(glm(Freq ~ Var1*Var2, sum.view, family="poisson"))
view.mod2<-(glm(Freq ~ Var1 +Var2, sum.view, family="poisson"))
visreg(view.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(view.mod1)
anova(view.mod1, view.mod2, test="Chi")
b4<-subset(part2.b.a, select=c("Location","Country",'Country_work', "field_research","partnership_outside_before"))
canada<-b4[b4$Country_work=="Canada" | (!(b4$Country_work=="Canada") &
b4$Country_work=="" & b4$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_outside_before=="",]
canada<-droplevels(canada)
head(canada)
## using table to count cases of each category
sum.b4<-data.frame(table(canada$partnership_outside_before, canada$field_research))
sum.b4
b4.mod1<-(glm(Freq ~ Var1*Var2, sum.b4, family="poisson"))
b4.mod2<-(glm(Freq ~ Var1 +Var2, sum.b4, family="poisson"))
visreg(b4.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
anova(b4.mod1, b4.mod2, test="Chi")
summary(b4.mod1)
b4<-subset(part2.b.a, select=c("Location","Country",'Country_work', "field_research","partnership_outside_before"))
canada<-b4[b4$Country_work=="Canada" | (!(b4$Country_work=="Canada") &
b4$Country_work=="" & b4$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_outside_before=="",]
canada<-droplevels(canada)
head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
#canada<-canada[!canada$field_research=="NonSci",]
#canada<-droplevels(canada)
## using table to count cases of each category
sum.b4<-data.frame(table(canada$partnership_outside_before, canada$field_research))
sum.b4
b4.mod1<-(glm(Freq ~ Var1*Var2, sum.b4, family="poisson"))
b4.mod2<-(glm(Freq ~ Var1 +Var2, sum.b4, family="poisson"))
visreg(b4.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(b4.mod1)
anova(b4.mod1, b4.mod2, test="Chi")
b4<-subset(part2.b.a, select=c("Location","Country",'Country_work', "field_research","partnership_outside_before"))
canada<-b4[b4$Country_work=="Canada" | (!(b4$Country_work=="Canada") &
b4$Country_work=="" & b4$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_outside_before=="",]
canada<-droplevels(canada)
head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada<-canada[!canada$field_research=="NonSci",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.b4<-data.frame(table(canada$partnership_outside_before, canada$field_research))
sum.b4
b4.mod1<-(glm(Freq ~ Var1*Var2, sum.b4, family="poisson"))
b4.mod2<-(glm(Freq ~ Var1 +Var2, sum.b4, family="poisson"))
visreg(b4.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(b4.mod1)
anova(b4.mod1, b4.mod2, test="Chi")
cur<-subset(part2.b.a, select=c("Location","Country",'Country_work', "field_research","partnership_outside"))
canada<-cur[cur$Country_work=="Canada" | (!(cur$Country_work=="Canada") &
cur$Country_work=="" & cur$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_outside=="",]
canada<-droplevels(canada)
head(canada)
## using table to count cases of each category
sum.cur<-data.frame(table(canada$partnership_outside, canada$field_research))
sum.cur
cur.mod1<-(glm(Freq ~ Var1*Var2, sum.cur, family="poisson"))
cur.mod2<-(glm(Freq ~ Var1 +Var2, sum.cur, family="poisson"))
visreg(cur.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
anova(cur.mod1, cur.mod2, test="Chi")
cur<-subset(part2.b.a, select=c("Location","Country",'Country_work', "field_research","partnership_outside"))
canada<-cur[cur$Country_work=="Canada" | (!(cur$Country_work=="Canada") &
cur$Country_work=="" & cur$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_outside=="",]
canada<-droplevels(canada)
head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
#canada<-canada[!canada$field_research=="NonSci",]
#canada<-droplevels(canada)
## using table to count cases of each category
sum.cur<-data.frame(table(canada$partnership_outside, canada$field_research))
sum.cur
cur.mod1<-(glm(Freq ~ Var1*Var2, sum.cur, family="poisson"))
cur.mod2<-(glm(Freq ~ Var1 +Var2, sum.cur, family="poisson"))
visreg(cur.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
anova(cur.mod1, cur.mod2, test="Chi")
summary(cur.mod1)
cur<-subset(part2.b.a, select=c("Location","Country",'Country_work', "field_research","partnership_outside"))
canada<-cur[cur$Country_work=="Canada" | (!(cur$Country_work=="Canada") &
cur$Country_work=="" & cur$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_outside=="",]
canada<-droplevels(canada)
head(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada<-canada[!canada$field_research=="NonSci",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.cur<-data.frame(table(canada$partnership_outside, canada$field_research))
sum.cur
cur.mod1<-(glm(Freq ~ Var1*Var2, sum.cur, family="poisson"))
cur.mod2<-(glm(Freq ~ Var1 +Var2, sum.cur, family="poisson"))
visreg(cur.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(cur.mod1)
anova(cur.mod1, cur.mod2, test="Chi")
visreg(cur.mod1, "Var1",by="Var2", scale="response", ylab="Number of responses", xlab="field_research")
head(canada)
p.change<-subset(part2.change, select=c("Location","Country",'Country_work', "field_research", "partnership_change_10yrs"))
canada<-p.change[p.change$Country_work=="Canada" | (!(p.change$Country_work=="Canada") &
p.change$Country_work=="" & p.change$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_change_10yrs=="",]
canada<-droplevels(canada)
## using table to count cases of each category
sum.p.change<-data.frame(table(canada$partnership_change_10yrs, canada$field_research))
sum.p.change
p.change.mod1<-(glm(Freq ~ Var1*Var2, sum.p.change, family="poisson"))
p.change.mod2<-(glm(Freq ~ Var1 +Var2, sum.p.change, family="poisson"))
visreg(p.change.mod1, "Var2",by="Var1", scale=
visreg(p.change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
anova(p.change.mod1, p.change.mod2, test="Chi")
visreg(p.change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
anova(p.change.mod1, p.change.mod2, test="Chi")
summary(p.change.mod1)
head(canada)
p.change<-subset(part2.change, select=c("Location","Country",'Country_work', "field_research", "partnership_change_10yrs"))
canada<-p.change[p.change$Country_work=="Canada" | (!(p.change$Country_work=="Canada") &
p.change$Country_work=="" & p.change$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_change_10yrs=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
#canada<-canada[!canada$field_research=="NonSci",]
#canada<-droplevels(canada)
## using table to count cases of each category
sum.p.change<-data.frame(table(canada$partnership_change_10yrs, canada$field_research))
sum.p.change
p.change.mod1<-(glm(Freq ~ Var1*Var2, sum.p.change, family="poisson"))
p.change.mod2<-(glm(Freq ~ Var1 +Var2, sum.p.change, family="poisson"))
visreg(p.change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(p.change.mod1)
anova(p.change.mod1, p.change.mod2, test="Chi")
head(canada)
p.change<-subset(part2.change, select=c("Location","Country",'Country_work', "field_research", "partnership_change_10yrs"))
canada<-p.change[p.change$Country_work=="Canada" | (!(p.change$Country_work=="Canada") &
p.change$Country_work=="" & p.change$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_change_10yrs=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada$changed_10yrs<-factor(canada$changed_10yrs, levels(canada$changed_10yrs)[c(2,3,1)])
#canada<-canada[!canada$field_research=="NonSci",]
#canada<-droplevels(canada)
## using table to count cases of each category
sum.p.change<-data.frame(table(canada$partnership_change_10yrs, canada$field_research))
sum.p.change
p.change.mod1<-(glm(Freq ~ Var1*Var2, sum.p.change, family="poisson"))
p.change.mod2<-(glm(Freq ~ Var1 +Var2, sum.p.change, family="poisson"))
visreg(p.change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(p.change.mod1)
anova(p.change.mod1, p.change.mod2, test="Chi")
head(canada)
p.change<-subset(part2.change, select=c("Location","Country",'Country_work', "field_research", "partnership_change_10yrs"))
canada<-p.change[p.change$Country_work=="Canada" | (!(p.change$Country_work=="Canada") &
p.change$Country_work=="" & p.change$Country=="Canada"),]
canada<-canada[!canada$field_research=="",]
canada<-canada[!canada$partnership_change_10yrs=="",]
canada<-droplevels(canada)
canada$field_research<-as.character(canada$field_research)
canada$field_research<-ifelse(canada$field_research%in%c("Other","Interdisciplinary Science","Social Science / Humanities"), 'NonSci', canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Physical Science (eg. math, physics, chemistry, computer science)", "PhysSci", canada$field_research)
canada$field_research<-ifelse(canada$field_research=="Medicine and Life Science", "MedSci", canada$field_research)
canada$field_research<-as.factor(canada$field_research)
canada$partnership_change_10yrs<-factor(canada$partnership_change_10yrs, levels(canada$partnership_change_10yrs)[c(2,3,1)])
#canada<-canada[!canada$field_research=="NonSci",]
#canada<-droplevels(canada)
## using table to count cases of each category
sum.p.change<-data.frame(table(canada$partnership_change_10yrs, canada$field_research))
sum.p.change
p.change.mod1<-(glm(Freq ~ Var1*Var2, sum.p.change, family="poisson"))
p.change.mod2<-(glm(Freq ~ Var1 +Var2, sum.p.change, family="poisson"))
visreg(p.change.mod1, "Var2",by="Var1", scale="response", ylab="Number of responses", xlab="field_research")
summary(p.change.mod1)
anova(p.change.mod1, p.change.mod2, test="Chi")
